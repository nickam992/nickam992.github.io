/**
 * s9-widget is a lightweight library provided to widgets to communicate with the Inkling platform.
 * All communication with the system is through the HTML5 window.postMessage API. Widget developers
 * may modify this file as needed.
 *
 * For API documentation please visit:
 *  https://www.inkling.com/read/tech-spec/cecf168ecdf748b5b8d730c2783925be/5ab07e01b9d84014b9c93f3015258901
 */s9=function(){function i(e,t,n){window.parent.postMessage({type:e,method:t,data:n},"*")}function s(e){i("link","open",e)}function o(e){if(navigator.userAgent.match(/(iPad|iPhone|iPod)/i))for(var t in e){var n=document.querySelectorAll(t);[].forEach.call(n,function(e){e.style.cursor="pointer"})}document.addEventListener("click",function(t){var n=t.target;while(n&&n!==document){for(var r in e)if(n.matchesSelector(r)){t.preventDefault();t.stopPropagation();t.currentTarget=n;e[r](t,n);return!0}n=n.parentNode}})}var e,t,n,r={};window.location.search.replace(/([^?=&]+)(=([^&]*))?/g,function(e,t,n,i){r[t]=decodeURIComponent(i)});Element.prototype.matchesSelector=Element.prototype.matchesSelector||Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector;window.addEventListener("message",function(r){var i=r.data;i.type==="data"?e&&e(i.data):i.type==="dataglobal"?t&&t(i.data):i.type=="orientationchange"&&n&&n(i.data)},!1);o({"[href]":function(e,t){var n=t.getAttribute("href");s(n)}});return{version:"1.0",initialParams:r,events:o,links:{open:s},data:{save:function(e){i("data","save",e)},onrestore:function(t){if(typeof t!="function")throw"s9.data.onrestore expects a function";e=t},global:{save:function(e){i("data","saveGlobal",e)},onrestore:function(e){if(typeof e!="function")throw"s9.data.global.onrestore expects a function";t=e}}},view:{size:function(e){i("size","set",e)},onrotate:function(e){n=e}}}}();